import{u as W,R,j as e,S as b,L as C,E as f,C as M}from"./index-CEm52v3a.js";import{C as v}from"./ChartButtonBox-CJmeUCG6.js";const c=(i,{tier:n})=>i.filter(r=>r.Tier===n).flatMap(r=>r.MMR),u=(i,n)=>{const r=n[n.length-1],t={};for(let a=100;a<r+i;a+=i){const s=n.filter(o=>o>=a&&o<a+i&&o<r);t[`${a}-${a+i}`]=s.length}return t};function O({playerData:i}){const{players:n,isLoading:r}=W(),[t,a]=R.useState({mmrGroupingWidth:20}),s=n.flatMap(m=>({MMR:m.mmr??0,Tier:m.tier.name})).sort((m,y)=>m.MMR-y.MMR);if(r)return e.jsx(b,{children:e.jsx(C,{})});const o=u(t.mmrGroupingWidth,c(s,{tier:"Recruit"})),p=u(t.mmrGroupingWidth,c(s,{tier:"Prospect"})),d=u(t.mmrGroupingWidth,c(s,{tier:"Contender"})),h=u(t.mmrGroupingWidth,c(s,{tier:"Challenger"})),g=u(t.mmrGroupingWidth,c(s,{tier:"Elite"})),x=u(t.mmrGroupingWidth,c(s,{tier:"Premier"})),l="4",j={legend:{},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:[...Object.keys({...o,...p,...d,...h,...g,...x})]},yAxis:{type:"value"},series:[{name:"Recruit",data:Object.values(o),type:"bar",barWidth:l,emphasis:{}},{name:"Prospect",data:Object.values(p),type:"bar",barWidth:l,emphasis:{}},{name:"Contender",data:Object.values(d),type:"bar",barWidth:l,emphasis:{}},{name:"Challenger",data:Object.values(h),type:"bar",barWidth:l,emphasis:{}},{name:"Elite",data:Object.values(g),type:"bar",barWidth:l,emphasis:{}},{name:"Premier",data:Object.values(x),type:"bar",barWidth:l,emphasis:{}}]};return e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(f,{option:j,className:"w-full pr-4",style:{height:600}})}),e.jsx("div",{className:"m-2",children:e.jsx(M,{children:e.jsxs(v,{children:[e.jsxs("label",{htmlFor:"customRange1",className:"flex text-neutral-700 dark:text-neutral-200",children:["MMR Group Size (",t.mmrGroupingWidth,")"]}),e.jsx("input",{type:"range",min:"5",max:"30",step:"1",className:"transparent h-1.5 w-full cursor-pointer appearance-none rounded-lg border-transparent bg-neutral-200",id:"customRange1",value:t.mmrGroupingWidth,onChange:m=>a({...t,mmrGroupingWidth:Number(m.target.value)})})]})})})]})}export{O as DistributionCurves};
